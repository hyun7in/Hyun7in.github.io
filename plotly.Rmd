---
title: "Plotly"
author: "Hyun Jin Jung"
date: "2023-10-30"
output: html_document
---

```{r, include = FALSE}
library(tidyverse)
library(plotly)

library(p8105.datasets)
```

I will be using `Instacart` dataset to make plots.
```{r}
data("instacart")

instacart_aisle = instacart |>
  group_by(aisle) |>
  summarize(n_orders = n()) |>
  arrange(desc(n_orders))
```
The aisle with the most items ordered is "`r instacart_aisle$aisle[1]`" with `r instacart_aisle$n_orders[1]` items.

Since most items were ordered from the `Fresh vegetables` aisle, I filtered the data to focus on this category.
```{r}
veges = instacart |>
  filter(instacart$aisle == "fresh vegetables")  |>
  group_by(product_name) |>
  mutate(number_of_orders = n()) |>
  select(user_id, order_dow, order_hour_of_day, days_since_prior_order, product_name, number_of_orders)
```
Weâ€™ll use this dataset as the basis for our plots.

Plotly scatterplot
```{r}
veges |>
  filter(number_of_orders > 1000) |>
  plot_ly(x = ~product_name, y = ~number_of_orders, type = "scatter", mode = "markers",
    color = ~days_since_prior_order, alpha = 0.5)
```

